{% extends 'layout.html' %}
{% block body %}
<main id="dashboard">
	<div class="navbar navbar-default navbar-static-top">
	  <div class="container-wide">
		<div class="navbar-header">
		  <div class="left addressNumContainer">
			<input type="text" name="addressNum" id="addressNum" placeholder="" />
		  </div>
		  <div class="right addressContainer">
			<div class="searchableContainer styledSelect">
			<select name="address" id="address" ng-controller="homeCtrl">
			  <div ng-repeat="street in streets">
				<option value="[[street]]">[[street]]</option>
			  </div>
			</select>
			</div>
		  </div>
	    </form>
	  </div>
    </div>
  </div>
</main> 

<script src="public/custom/js/browser.detect.min.js" type="text/javascript"></script>
<script src="public/custom/js/jquery.searchabledropdown-1.0.8.min.js" type="text/javascript"></script>
<script>
$(document).ready(function() {
  $("select").searchable({
      maxListSize: 100,                       // if list size are less than maxListSize, show them all
      maxMultiMatch: 50,                      // how many matching entries should be displayed
      exactMatch: false,                      // Exact matching on sear
      wildcards: true,                        // Support for wildcard characters (*, ?)
      ignoreCase: true,                       // Ignore case sensitivity
      latency: 200,                           // how many millis to wait until starting search
      warnMultiMatch: 'top {0} matches ...',  // string to append to a list of entries cut short by maxMultiMatch
      warnNoMatch: 'no matches ...',          // string to show in the list when no entries match
      zIndex: 'auto'                          // zIndex for elements generated by this plugin
  });

  $("form").submit(function() {
    console.log("Okay");
    var street = $(this).find("#address").val();
    var streetNum = $(this).find("#addressNum").val();
    console.log(street + " " + streetNum);
    var newHTML = $.get("dashboard.html");
    $(".container").html(newHTML);
    return false;
  });
});
</script>

{% endblock %}

{% block script %}
<script type="text/javascript">
	function homeCtrl($scope, $http) {
		$scope.streets = ["College W.", "Southcreek Trail", "Stone Rd."];
	}
</script>

<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io();
</script>
{% endblock %}